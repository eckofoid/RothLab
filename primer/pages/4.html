<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<link rel="SHORTCUT ICON" href="../images/_nb_interface/favicon.ico">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<title>sol</title>
<script language="Javascript" type="text/javascript" src="./notebook.js"></script>
<style type="text/css">div.notebookcell{ position:relative; }</style>
<style type="text/css">td.nbt { padding : 3px 0px 0px 0px; }</style>
<STYLE type="text/css">

	.pna0 {
		font-family : Helvetica,Arial,sans-serif;
		font-size : 20px;
		font-weight : bold;
		color : #000000;
	}


	.pnu0 {
		font-family : Helvetica,Arial,sans-serif;
		font-size : 14px;
		color : #000000;
	}


	.blankline {
		font-family : Helvetica,Arial,sans-serif;
		font-size : 14px;
		color : #000000;
		text-align : center;
	}


	.f0 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #999999;
	}


	.f1 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #000000;
	}


	.f2 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #b13cc4;
	}


	.f3 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #fbc669;
	}


	.f4 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #fa9254;
	}


	.f5 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #7cb646;
	}


	.f6 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #cb639c;
	}


	.f7 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #2e37ea;
	}


	.f8 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #d12a2d;
	}


	.f9 {
		font-family : Monaco,Helvetica,Arial,sans-serif;
		font-size : 11px;
		color : #287fae;
	}


</STYLE>
</head>

<body bgcolor="#FFFFFF" topmargin="0" marginheight="0" leftmargin="0" marginwidth="0" onload="InitNotebookPage();">
<map id="tabmap" name="tabmap">
    <area shape="rect" coords="0,68,22,133" href="../index.html" alt="">
</map>
<map id="pagecurlltmap" name="pagecurlltmap">
    <area shape="poly" coords="0,1,22,23,0,29" href="./2.html"
          onmouseover="SwapImage('pagecurl_lt', '../images/_nb_interface/pagecurllt_ll.gif');SwapImage('pagecurl_rt', '../images/_nb_interface/pagecurlrt.gif');"
          onmouseout="SwapImage('pagecurl_lt', '../images/_nb_interface/pagecurllt.gif');"
          alt="">
    <area shape="poly" coords="0,0,22,0,22,22" href="./5.html"
          onmouseover="SwapImage('pagecurl_lt', '../images/_nb_interface/pagecurllt_ur.gif');SwapImage('pagecurl_rt', '../images/_nb_interface/pagecurlrt_ur.gif');"
          onmouseout="SwapImage('pagecurl_lt', '../images/_nb_interface/pagecurllt.gif');SwapImage('pagecurl_rt', '../images/_nb_interface/pagecurlrt.gif');"
          alt="">
</map>
<map id="pagecurlrtmap" name="pagecurlrtmap">
    <area shape="poly" coords="0,0,6,0,6,29,0,24" href="./5.html"
          onmouseover="SwapImage('pagecurl_lt', '../images/_nb_interface/pagecurllt_ur.gif');SwapImage('pagecurl_rt', '../images/_nb_interface/pagecurlrt_ur.gif');"
          onmouseout="SwapImage('pagecurl_lt', '../images/_nb_interface/pagecurllt.gif');SwapImage('pagecurl_rt', '../images/_nb_interface/pagecurlrt.gif');"
          alt="">
</map>
<!-- PAGE CONTENT -->

 <table summary="layout frame" border="0" cellspacing="0" cellpadding="0" width="100%" height="100%" background="../images/_nb_marginLines/swatchfefffe.png">
  <tr>
    <td width="15" background="../images/_nb_interface/noring.gif"><img src="../images/_nbs.gif" alt="" border="0" width="15" height="15"></td>
    
    <td width="1">
      <table summary="page holes" border="0" cellspacing="0" cellpadding="0" width="1" height="100%">
        <tr>
          <td height="33%" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="76"><br>
          </td>
        </tr>
        <tr>
          <td height="33%" valign="middle"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="200"><br>
          <br>
          <img src="../images/_nbs.gif" alt="" border="0" width="1" height="200"></td>
        </tr>
        <tr>
          <td height="33%" valign="bottom"><br>
          <img src="../images/_nbs.gif" alt="" border="0" width="1" height="50"></td>
        </tr>
      </table>    
    </td>
    <td width="100%" valign="top">
      <table summary="notebook topmargin" border="0" cellspacing="0" cellpadding="0" width="100%" height="60">
        <tr>
          <td width="20" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="20" height="1"></td>
          <td width="1"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="1"></td>
          <td width="4" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="4" height="1"></td>
          <td width="100%" valign="top" align="right" nowrap ><font class="pnu0">4</font><img src="../images/_nbs.gif" alt="" border="0" width="5" height="1"><img name="pagecurl_lt" src="../images/_nb_interface/pagecurllt.gif" alt="" border="0" width="23" height="33" usemap="#pagecurlltmap"><br>
          <img src="../images/_nbs.gif" alt="" border="0" width="540" height="1"></td>
        </tr>
      </table>
<table summary="notebook cell" border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr>
      <td width="20" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="20" height="4"><br>
</td>
      
      
      <td width="4" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="4" height="1"></td>
      
      <td width="100%" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="4"><br>
<font class="pna0">sol<br></font></td>
      
      <td width="8" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="8" height="1"></td>
    </tr>
</table>
<table summary="notebook cell" border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr>
      <td width="20" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="20" height="1"></td>

       <td width="4" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="4" height="1"></td>
      
      <td valign="top"><nobr><img src="../images/_nbs.gif" width="13" height="13" border="0" alt=""></nobr></td>      <td width="100%" valign="top"></td>

      <td width="8" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="8" height="1"></td>
    </tr>
    <tr>
      <td colspan="2" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="24" height="4"></td>
      <td colspan="2" width="100%" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="4"></td>
      <td width="8" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="8" height="4"></td>
    </tr>
</table>
<table summary="notebook cell" border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr>
      <td width="20" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="20" height="1"></td>

       <td width="4" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="4" height="1"></td>
      
      <td valign="top"><nobr><img src="../images/_nb_interface/Linked.png" width="13" height="13" border="0" alt=""><img src="../images/_nbs.gif" alt="" border="0" width="3" height="1"></nobr></td>      <td width="100%" valign="top"><font class="f0">#!/bin/sh</font><font class="f1"><br></font><font class="f1"><br></font><font class="f2">#######################################################</font><font class="f1"><br></font><font class="f2">########&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reusable Document String:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;########</font><font class="f1"><br></font><font class="f2">#######################################################</font><font class="f1"><br></font><font class="f3">help</font><font class="f1">() { </font><font class="f4">cat</font><font class="f1">&lt;&lt;</font><font class="f3">eof</font><font class="f1"><br></font><font class="f1"> =======================</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;</font><font class="f3">Solexa</font><font class="f1"> </font><font class="f3">data</font><font class="f1"> </font><font class="f3">reduction</font><font class="f1"><br></font><font class="f1"> =======================</font><font class="f1"><br></font><font class="f1"> </font><font class="f3">Usage</font><font class="f1">:</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">sol</font><font class="f1"> &lt;</font><font class="f3">infile</font><font class="f1"> 1&gt; &lt;</font><font class="f3">infile</font><font class="f1"> 2&gt; &lt;</font><font class="f3">outfile</font><font class="f1">&gt; &lt;</font><font class="f3">refseq</font><font class="f1">&gt; &lt;</font><font class="f3">bin</font><font class="f1"> </font><font class="f4">size</font><font class="f1">&gt;</font><font class="f1"><br></font><font class="f1"><br></font><font class="f1"> </font><font class="f3">Infiles</font><font class="f1"> </font><font class="f3">are</font><font class="f1"> </font><font class="f4">type</font><font class="f1"> </font><font class="f5">&quot;bfq&quot;</font><font class="f1"> (</font><font class="f3">infiles</font><font class="f1">) </font><font class="f3">and</font><font class="f1"> </font><font class="f5">&quot;bfa&quot;</font><font class="f1"> (</font><font class="f3">refseq</font><font class="f1">).</font><font class="f1"><br></font><font class="f1"> </font><font class="f3">Outfile</font><font class="f1"> </font><font class="f3">defines</font><font class="f1"> </font><font class="f3">outpath</font><font class="f1"> </font><font class="f3">and</font><font class="f1"> </font><font class="f4">basename</font><font class="f1"> </font><font class="f6">for</font><font class="f1"> </font><font class="f3">outfiles.</font><font class="f1"><br></font><font class="f1"> </font><font class="f3">Script</font><font class="f1"> </font><font class="f3">generates</font><font class="f1"> </font><font class="f5">&quot;map&quot;</font><font class="f1">, </font><font class="f5">&quot;pileup&quot;</font><font class="f1"> </font><font class="f3">and</font><font class="f1"> </font><font class="f3">binned</font><font class="f1"> </font><font class="f5">&quot;xls&quot;</font><font class="f1"> </font><font class="f3">files</font><font class="f1">;</font><font class="f1"><br></font><font class="f1"> </font><font class="f3">same-named</font><font class="f1"> </font><font class="f3">files</font><font class="f1"> </font><font class="f3">will</font><font class="f1"> </font><font class="f3">be</font><font class="f1"> </font><font class="f3">overwritten</font><font class="f1"> </font><font class="f3">without</font><font class="f1"> </font><font class="f3">warning.</font><font class="f1"><br></font><font class="f1"><br></font><font class="f1"> </font><font class="f3">Eric</font><font class="f1"> </font><font class="f3">Kofoid</font><font class="f1">, 3/29/2011</font><font class="f1"><br></font><font class="f1"><br></font><font class="f3">eof</font><font class="f1"><br></font><font class="f1">}</font><font class="f1"><br></font><font class="f2">#######################################################</font><font class="f1"><br></font><font class="f1"><br></font><font class="f2">## Check arguments and process when possible</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">if</font><font class="f1"> [ </font><font class="f7">$#</font><font class="f1"> = 0 ] || [ </font><font class="f7">$1</font><font class="f1"> = </font><font class="f5">&quot;-h&quot;</font><font class="f1"> ] || [ </font><font class="f7">$1</font><font class="f1"> = </font><font class="f5">&quot;--help&quot;</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">help</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> [ </font><font class="f7">$#</font><font class="f1"> -</font><font class="f3">lt</font><font class="f1"> 5 ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Insufficient</font><font class="f1"> </font><font class="f5">number</font><font class="f1"> </font><font class="f5">of</font><font class="f1"> </font><font class="f5">parameters&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f6">else</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f7">in1</font><font class="f1">=</font><font class="f7">$1</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f7">in2</font><font class="f1">=</font><font class="f7">$2</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f7">outf</font><font class="f1">=</font><font class="f7">$3</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f7">refseq</font><font class="f1">=</font><font class="f7">$4</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f7">bins</font><font class="f1">=</font><font class="f7">$5</font><font class="f1"><br></font><font class="f6">fi</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">if</font><font class="f1"> ! [ -</font><font class="f3">f</font><font class="f1"> </font><font class="f7">$in1</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Infile</font><font class="f1"> </font><font class="f5">1</font><font class="f1"> </font><font class="f5">does</font><font class="f1"> </font><font class="f5">not</font><font class="f1"> </font><font class="f5">exist!&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> [ </font><font class="f7">${in1##*.}</font><font class="f1"> != </font><font class="f5">&quot;bfq&quot;</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Infiles</font><font class="f1"> </font><font class="f5">must</font><font class="f1"> </font><font class="f5">be</font><font class="f1"> </font><font class="f5">of</font><font class="f1"> </font><font class="f5">type</font><font class="f1"> </font><font class="f5">'bfq'&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> ! [ -</font><font class="f3">f</font><font class="f1"> </font><font class="f7">$in2</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Infile</font><font class="f1"> </font><font class="f5">2</font><font class="f1"> </font><font class="f5">does</font><font class="f1"> </font><font class="f5">not</font><font class="f1"> </font><font class="f5">exist!&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> [ </font><font class="f7">${in2##*.}</font><font class="f1"> != </font><font class="f5">&quot;bfq&quot;</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Infiles</font><font class="f1"> </font><font class="f5">must</font><font class="f1"> </font><font class="f5">be</font><font class="f1"> </font><font class="f5">of</font><font class="f1"> </font><font class="f5">type</font><font class="f1"> </font><font class="f5">'bfq'&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">else</font><font class="f2"> ## Get base file and path names:</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f7">f</font><font class="f1">=</font><font class="f8">`basename</font><font class="f1"> </font><font class="f7">${outf%.*}</font><font class="f1"> </font><font class="f8">2&gt;/dev/null`</font><font class="f2"> # we don't care about extension</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f7">p</font><font class="f1">=</font><font class="f7">${outf%/*}</font><font class="f1"><br></font><font class="f6">fi</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">if</font><font class="f1"> [ -</font><font class="f3">z</font><font class="f1"> </font><font class="f7">$f</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Outfile</font><font class="f1"> </font><font class="f5">must</font><font class="f1"> </font><font class="f5">include</font><font class="f1"> </font><font class="f5">a</font><font class="f1"> </font><font class="f5">file</font><font class="f1"> </font><font class="f5">basename!&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> ! [ -</font><font class="f3">d</font><font class="f1"> </font><font class="f7">$p</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">mkdir</font><font class="f1"> -</font><font class="f3">p</font><font class="f1"> </font><font class="f7">$p</font><font class="f1"><br></font><font class="f6">fi</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">if</font><font class="f1"> [ </font><font class="f7">${refseq##*.}</font><font class="f1"> != </font><font class="f5">&quot;bfa&quot;</font><font class="f1"> ] </font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Refseq</font><font class="f1"> </font><font class="f5">must</font><font class="f1"> </font><font class="f5">be</font><font class="f1"> </font><font class="f5">of</font><font class="f1"> </font><font class="f5">type</font><font class="f1"> </font><font class="f5">'bfa'&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> ! [ -</font><font class="f3">f</font><font class="f1"> </font><font class="f7">$refseq</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Script</font><font class="f1"> </font><font class="f5">requires</font><font class="f1"> </font><font class="f5">valid</font><font class="f1"> </font><font class="f5">reference</font><font class="f1"> </font><font class="f5">sequence</font><font class="f1"> </font><font class="f5">file!&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> ! [ </font><font class="f7">$bins</font><font class="f1"> -</font><font class="f3">eq</font><font class="f1"> </font><font class="f7">$bins</font><font class="f1"> 2&gt; /</font><font class="f3">dev</font><font class="f1">/</font><font class="f3">null</font><font class="f1"> ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Bin</font><font class="f1"> </font><font class="f5">size</font><font class="f1"> </font><font class="f5">must</font><font class="f1"> </font><font class="f5">be</font><font class="f1"> </font><font class="f5">an</font><font class="f1"> </font><font class="f5">integer!&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1"><br></font><font class="f6">elif</font><font class="f1"> [ </font><font class="f7">$bins</font><font class="f1"> -</font><font class="f3">le</font><font class="f1"> 0 ]</font><font class="f1"><br></font><font class="f6">then</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Bin</font><font class="f1"> </font><font class="f5">size</font><font class="f1"> </font><font class="f5">must</font><font class="f1"> </font><font class="f5">be</font><font class="f1"> </font><font class="f5">a</font><font class="f1"> </font><font class="f5">positive</font><font class="f1"> </font><font class="f5">integer!&quot;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f6">fi</font><font class="f1"><br></font><font class="f1"><br></font><font class="f4">cat</font><font class="f1">&lt;&lt;</font><font class="f3">eof</font><font class="f1"><br></font><font class="f1">==============&nbsp;&nbsp;</font><font class="f1"><br></font><font class="f3">SOL</font><font class="f1"> </font><font class="f3">PARAMETERS</font><font class="f1"><br></font><font class="f1">==============&nbsp;&nbsp;</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;</font><font class="f3">in1</font><font class="f1"> = </font><font class="f7">$in1</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;</font><font class="f3">in2</font><font class="f1"> = </font><font class="f7">$in2</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">f</font><font class="f1"> = </font><font class="f7">$f</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">p</font><font class="f1"> = </font><font class="f7">$p</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;</font><font class="f3">outf</font><font class="f1"> = </font><font class="f7">$outf</font><font class="f1"><br></font><font class="f3">refseq</font><font class="f1"> = </font><font class="f7">$refseq</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;</font><font class="f3">bins</font><font class="f1"> = </font><font class="f7">$bins</font><font class="f1"><br></font><font class="f1">==============&nbsp;&nbsp;</font><font class="f1"><br></font><font class="f3">eof</font><font class="f1"><br></font><font class="f1"><br></font><font class="f2">## Make 'map' file:</font><font class="f1"><br></font><font class="f3">trap</font><font class="f1"> </font><font class="f9">''</font><font class="f1"> </font><font class="f3">ABRT</font><font class="f1"> </font><font class="f1"><br></font><font class="f4">maq</font><font class="f1"> </font><font class="f3">map</font><font class="f1"> -</font><font class="f3">a</font><font class="f1"> 320 </font><font class="f7">$p</font><font class="f1">/</font><font class="f7">$f</font><font class="f1">.</font><font class="f3">map</font><font class="f1"> </font><font class="f7">$refseq</font><font class="f1"> </font><font class="f7">$in1</font><font class="f1"> </font><font class="f7">$in2</font><font class="f1"> || {</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f3">Map</font><font class="f1"> </font><font class="f3">failed</font><font class="f1">!</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;}</font><font class="f1"><br></font><font class="f1"><br></font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;'Map'</font><font class="f1"> </font><font class="f5">completed...&quot;</font><font class="f1"><br></font><font class="f1"><br></font><font class="f2">## Make 'pileup' file:</font><font class="f1"><br></font><font class="f3">trap</font><font class="f1"> </font><font class="f9">''</font><font class="f1"> </font><font class="f3">ABRT</font><font class="f1"> </font><font class="f1"><br></font><font class="f4">maq</font><font class="f1"> </font><font class="f3">pileup</font><font class="f1"> </font><font class="f7">$refseq</font><font class="f1"> </font><font class="f7">$p</font><font class="f1">/</font><font class="f7">$f</font><font class="f1">.</font><font class="f3">map</font><font class="f1"> &gt; </font><font class="f7">$p</font><font class="f1">/</font><font class="f7">$f</font><font class="f1">.</font><font class="f3">pileup</font><font class="f1"> || {</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f3">Pileup</font><font class="f1"> </font><font class="f3">failed</font><font class="f1">!</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;}</font><font class="f1"><br></font><font class="f1"><br></font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;'Pileup'</font><font class="f1"> </font><font class="f5">completed...&quot;</font><font class="f1"><br></font><font class="f1"><br></font><font class="f2">## Make 'xls' binned file:</font><font class="f1"><br></font><font class="f3">trap</font><font class="f1"> </font><font class="f9">''</font><font class="f1"> </font><font class="f3">ABRT</font><font class="f1"> </font><font class="f1"><br></font><font class="f4">gawk</font><font class="f1"> -</font><font class="f3">v</font><font class="f1"> </font><font class="f7">A</font><font class="f1">=0 -</font><font class="f3">v</font><font class="f1"> </font><font class="f7">I</font><font class="f1">=0 -</font><font class="f3">v</font><font class="f1"> </font><font class="f7">bin</font><font class="f1">=</font><font class="f7">$bins</font><font class="f1"> &#092;</font><font class="f1"><br></font><font class="f9">'{if ((I % bin == 0)&amp;&amp;(I != 0)) {print A;A=0};A=A+$4;I++}'</font><font class="f1"> &#092;</font><font class="f1"><br></font><font class="f7">$p</font><font class="f1">/</font><font class="f7">$f</font><font class="f1">.</font><font class="f3">pileup</font><font class="f1"> &gt; </font><font class="f7">$p</font><font class="f1">/</font><font class="f7">$f</font><font class="f1">.</font><font class="f3">xls</font><font class="f1"> || {</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f3">Binning</font><font class="f1"> </font><font class="f3">failed</font><font class="f1">!</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;}</font><font class="f1"><br></font><font class="f1"><br></font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;'Binning'</font><font class="f1"> </font><font class="f5">completed...&quot;</font><font class="f1"><br></font><font class="f1"><br></font><font class="f2">## Plot read depth</font><font class="f1"><br></font><font class="f3">trap</font><font class="f1"> </font><font class="f9">''</font><font class="f1"> </font><font class="f3">ABRT</font><font class="f1"><br></font><font class="f7">size</font><font class="f1">=</font><font class="f8">`tail</font><font class="f1"> </font><font class="f8">-n</font><font class="f1"> </font><font class="f8">1</font><font class="f1"> </font><font class="f7">$p</font><font class="f8">/</font><font class="f7">$f</font><font class="f8">.pileup</font><font class="f1"> </font><font class="f8">|</font><font class="f1"> </font><font class="f8">awk</font><font class="f1"> </font><font class="f8">'{print</font><font class="f1"> </font><font class="f7">$2</font><font class="f8">}'`</font><font class="f1"><br></font><font class="f7">size</font><font class="f1">=</font><font class="f8">$((</font><font class="f1"> </font><font class="f8">(size+bins)/bins</font><font class="f1"> </font><font class="f8">))</font><font class="f1"><br></font><font class="f4">rdplot</font><font class="f1"> </font><font class="f7">$p</font><font class="f1">/</font><font class="f7">$f</font><font class="f1">.</font><font class="f3">xls</font><font class="f1"> </font><font class="f7">$size</font><font class="f1"> </font><font class="f7">$bins</font><font class="f1"> </font><font class="f5">&quot;purple&quot;</font><font class="f1"> || {</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f4">echo</font><font class="f1"> </font><font class="f3">Plotting</font><font class="f1"> </font><font class="f3">failed</font><font class="f1">!</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;</font><font class="f3">exit</font><font class="f1"><br></font><font class="f1">&nbsp;&nbsp;&nbsp;&nbsp;}</font><font class="f1"><br></font><font class="f1"><br></font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;'Plotting'</font><font class="f1"> </font><font class="f5">completed...&quot;</font><font class="f1"><br></font><font class="f1"><br></font><font class="f4">echo</font><font class="f1"> </font><font class="f5">&quot;Sol</font><font class="f1"> </font><font class="f5">run</font><font class="f1"> </font><font class="f5">finished.&quot;<br></font></td>

      <td width="8" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="8" height="1"></td>
    </tr>
    <tr>
      <td colspan="5" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="4"></td>
    </tr>
</table>
<table summary="notebook cell" border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr>
      <td width="20" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="20" height="1"></td>

       <td width="4" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="4" height="1"></td>
      
      <td valign="top"><nobr></nobr></td>      <td width="100%" valign="top"></td>

      <td width="8" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="8" height="1"></td>
    </tr>
    <tr>
      <td colspan="2" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="24" height="4"></td>
      <td colspan="2" width="100%" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="4"></td>
      <td width="8" valign="top"><img src="../images/_nbs.gif" alt="" border="0" width="8" height="4"></td>
    </tr>
</table>
      
    </td>
    
    <td width="7" valign="top"><img name="pagecurl_rt" src="../images/_nb_interface/pagecurlrt.gif" alt="" border="0" width="7" height="33" usemap="#pagecurlrtmap"><br>
<img src="../images/_nbs.gif" alt="" border="0" width="7" height="1"><br><img src="../images/_nbs.gif" alt="" border="0" width="7" height="1"></td>
    <td width="22" valign="top" background="../images/_nb_interface/rightpagesbg.png"><img src="../images/_nb_tabs/4tab.png" alt="" border="0" width="22" height="145" usemap="#tabmap"></td>
    <td width="1" bgcolor="#FFFFFF"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="1"></td>
  
  </tr>
  
  <tr>
    <td valign="top" colspan="6" bgcolor="#FFFFFF">
      <table summary="page bottom" border="0" cellspacing="0" cellpadding="0" width="100%">
        <tr>
          <td width="15" height="5" align="left"><img src="../images/_nb_interface/bottomleftpagesnr.png" alt="" border="0" width="15" height="5"></td>
          <td background="../images/_nb_interface/bottompagesbg.png" align="right"><img src="../images/_nb_interface/bottomrightpages.png" alt="" border="0" width="20" height="5"></td>
          <td width="18"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="1"></td>
        </tr>
        <tr>
          <td colspan="3"><img src="../images/_nbs.gif" alt="" border="0" width="1" height="10"></td>
        </tr>
      </table>
    </td>
  </tr>
  
</table>   

<!-- /PAGE CONTENT -->
</body>
</html>

